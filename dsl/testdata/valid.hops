on change_merged {
  name = "a_sensor"

  if = true == true && glob("foo", "fo*")

  call integration_action {
    name = "first_task"
    if = alltrue(true, "foo" == "foo")

    inputs = {
      a = "b"
      from_env = env("HIPHOPS_TEST_ENV", "")
    }
  }

  call integration_other_action {
    name = "second_task"
    if = glob(event.branch, "fix/*") // This if does not match the event.

    inputs = {
      is_true = true
    }
  }

  call index_id_call {}

  call depends_call {
    name = "depends"
    if = first_task.done
  }

  result {
    completed = first_task.completed
    errored = first_task.errored

    outputs = {
      foo = "bar"
    }
  }
}

on change {
  name = "another_sensor"
}

// An on block with index based name, due to omitted name field
on change {}

on change_no_such_action {
  name = "non_matching_sensor"
}

task foo {}
